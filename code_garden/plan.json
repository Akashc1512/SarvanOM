{
  "generated_at": 1755695528.1763413,
  "analysis_summary": {
    "total_files_analyzed": 150,
    "files_to_adopt": 45,
    "files_to_merge": 25,
    "files_to_rewrite": 15,
    "files_to_archive": 50,
    "files_to_delete": 15,
    "major_duplications_found": [
      "LLM client implementations (5 duplicates)",
      "API Gateway services (3 duplicates)", 
      "Agent implementations (20+ duplicates)",
      "Configuration systems (3 duplicates)",
      "Analytics services (3 duplicates)"
    ],
    "unused_modules_found": [
      "services/api_gateway/ (entire directory)",
      "shared/core/llm_client*.py (5 files)",
      "shared/core/config/environment_manager*.py (2 files)",
      "services/analytics/analytics_v*.py (2 files)"
    ],
    "architectural_issues": [
      "Duplicate microservice entry points",
      "Inconsistent import patterns",
      "Mixed old and new architectures",
      "Unused legacy code in production paths"
    ]
  },
  "file_analysis": [
    {
      "file": "__init__.py",
      "status": "adopt",
      "reason": "Core package initialization file with proper version and metadata",
      "impact": "low",
      "dependents": ["all_python_modules"],
      "tests_to_update": []
    },
    {
      "file": "README.md",
      "status": "adopt",
      "reason": "Essential project documentation with setup instructions",
      "impact": "high",
      "dependents": ["all_developers"],
      "tests_to_update": []
    },
    {
      "file": "requirements.txt",
      "status": "adopt",
      "reason": "Core Python dependencies for the project",
      "impact": "high",
      "dependents": ["all_python_services"],
      "tests_to_update": []
    },
    {
      "file": "package.json",
      "status": "adopt",
      "reason": "Frontend dependencies and scripts",
      "impact": "high",
      "dependents": ["frontend"],
      "tests_to_update": []
    },
    {
      "file": "docker-compose.yml",
      "status": "adopt",
      "reason": "Main Docker Compose configuration",
      "impact": "high",
      "dependents": ["all_services"],
      "tests_to_update": []
    },
    {
      "file": "services/gateway/main.py",
      "status": "adopt",
      "reason": "Primary API Gateway with comprehensive features and proper architecture",
      "impact": "high",
      "dependents": ["all_frontend_clients", "all_microservices"],
      "tests_to_update": ["tests/integration/test_gateway.py"]
    },
    {
      "file": "services/gateway/real_llm_integration.py",
      "status": "adopt",
      "reason": "Unified LLM processor with multi-provider support and fallback chains",
      "impact": "high",
      "dependents": ["services/gateway/main.py", "shared/core/llm/"],
      "tests_to_update": ["tests/unit/test_llm_integration.py"]
    },
    {
      "file": "shared/core/agents/base_agent.py",
      "status": "adopt",
      "reason": "Core agent base class with proper patterns and interfaces",
      "impact": "high",
      "dependents": ["all_agent_implementations"],
      "tests_to_update": ["tests/unit/test_agents.py"]
    },
    {
      "file": "shared/core/agents/retrieval_agent.py",
      "status": "adopt",
      "reason": "Working retrieval agent with proper implementation",
      "impact": "high",
      "dependents": ["services/gateway/main.py"],
      "tests_to_update": ["tests/unit/test_retrieval_agent.py"]
    },
    {
      "file": "shared/core/agents/synthesis_agent.py",
      "status": "adopt",
      "reason": "Working synthesis agent with proper implementation",
      "impact": "high",
      "dependents": ["services/gateway/main.py"],
      "tests_to_update": ["tests/unit/test_synthesis_agent.py"]
    },
    {
      "file": "shared/core/agents/factcheck_agent.py",
      "status": "adopt",
      "reason": "Working fact-check agent with proper implementation",
      "impact": "high",
      "dependents": ["services/gateway/main.py"],
      "tests_to_update": ["tests/unit/test_factcheck_agent.py"]
    },
    {
      "file": "shared/core/agents/citation_agent.py",
      "status": "adopt",
      "reason": "Working citation agent with proper implementation",
      "impact": "high",
      "dependents": ["services/gateway/main.py"],
      "tests_to_update": ["tests/unit/test_citation_agent.py"]
    },
    {
      "file": "backend/api/routers/query_router.py",
      "status": "adopt",
      "reason": "Clean architecture query router with proper separation of concerns",
      "impact": "medium",
      "dependents": ["backend/main.py"],
      "tests_to_update": ["backend/tests/test_api_endpoints.py"]
    },
    {
      "file": "backend/api/routers/auth_router.py",
      "status": "adopt",
      "reason": "Clean architecture auth router with proper separation of concerns",
      "impact": "medium",
      "dependents": ["backend/main.py"],
      "tests_to_update": ["backend/tests/test_api_endpoints.py"]
    },
    {
      "file": "backend/api/routers/agent_router.py",
      "status": "adopt",
      "reason": "Clean architecture agent router with proper separation of concerns",
      "impact": "medium",
      "dependents": ["backend/main.py"],
      "tests_to_update": ["backend/tests/test_api_endpoints.py"]
    },
    {
      "file": "backend/services/query/query_orchestrator.py",
      "status": "adopt",
      "reason": "Clean architecture query orchestration with proper separation of concerns",
      "impact": "medium",
      "dependents": ["backend/api/routers/query_router.py"],
      "tests_to_update": ["backend/tests/test_services.py"]
    },
    {
      "file": "backend/services/agents/agent_coordinator.py",
      "status": "adopt",
      "reason": "Clean architecture agent coordination with proper separation of concerns",
      "impact": "medium",
      "dependents": ["backend/api/routers/agent_router.py"],
      "tests_to_update": ["backend/tests/test_services.py"]
    },
    {
      "file": "frontend/src/app/layout.tsx",
      "status": "adopt",
      "reason": "Main layout component with proper Next.js 14 App Router structure",
      "impact": "high",
      "dependents": ["all_frontend_pages"],
      "tests_to_update": ["frontend/src/__tests__/layout.test.tsx"]
    },
    {
      "file": "frontend/src/components/search/SearchInterface.tsx",
      "status": "adopt",
      "reason": "Main search interface component with proper React patterns",
      "impact": "high",
      "dependents": ["frontend/src/app/search/page.tsx"],
      "tests_to_update": ["frontend/src/components/__tests__/SearchInterface.test.tsx"]
    },
    {
      "file": "frontend/src/hooks/useAuth.ts",
      "status": "adopt",
      "reason": "Authentication hook with proper React patterns",
      "impact": "medium",
      "dependents": ["frontend/src/components/security/"],
      "tests_to_update": ["frontend/src/hooks/__tests__/useAuth.test.ts"]
    },
    {
      "file": "frontend/src/services/api-client.ts",
      "status": "adopt",
      "reason": "API client service with proper error handling and types",
      "impact": "medium",
      "dependents": ["all_frontend_components"],
      "tests_to_update": ["frontend/src/services/__tests__/api-client.test.ts"]
    },
    {
      "file": "shared/core/llm_client.py",
      "status": "merge",
      "reason": "Merge useful features into real_llm_integration.py and delete",
      "impact": "medium",
      "dependents": ["shared/core/agents/"],
      "tests_to_update": ["tests/unit/test_llm_integration.py"]
    },
    {
      "file": "shared/core/llm_client_v2.py",
      "status": "merge",
      "reason": "Merge useful features into real_llm_integration.py and delete",
      "impact": "medium",
      "dependents": ["shared/core/agents/"],
      "tests_to_update": ["tests/unit/test_llm_integration.py"]
    },
    {
      "file": "shared/core/llm_client_v3.py",
      "status": "merge",
      "reason": "Merge useful features into real_llm_integration.py and delete",
      "impact": "medium",
      "dependents": ["shared/core/agents/"],
      "tests_to_update": ["tests/unit/test_llm_integration.py"]
    },
    {
      "file": "shared/core/llm_client_enhanced.py",
      "status": "merge",
      "reason": "Merge useful features into real_llm_integration.py and delete",
      "impact": "medium",
      "dependents": ["shared/core/agents/"],
      "tests_to_update": ["tests/unit/test_llm_integration.py"]
    },
    {
      "file": "shared/core/llm_client_dynamic.py",
      "status": "merge",
      "reason": "Merge useful features into real_llm_integration.py and delete",
      "impact": "medium",
      "dependents": ["shared/core/agents/"],
      "tests_to_update": ["tests/unit/test_llm_integration.py"]
    },
    {
      "file": "shared/core/llm_client_standalone.py",
      "status": "merge",
      "reason": "Merge useful features into real_llm_integration.py and delete",
      "impact": "medium",
      "dependents": ["shared/core/agents/"],
      "tests_to_update": ["tests/unit/test_llm_integration.py"]
    },
    {
      "file": "shared/core/config/environment_manager.py",
      "status": "merge",
      "reason": "Merge useful features into central_config.py and delete",
      "impact": "medium",
      "dependents": ["shared/core/config/"],
      "tests_to_update": ["tests/unit/test_config.py"]
    },
    {
      "file": "shared/core/config/enhanced_environment_manager.py",
      "status": "merge",
      "reason": "Merge useful features into central_config.py and delete",
      "impact": "medium",
      "dependents": ["shared/core/config/"],
      "tests_to_update": ["tests/unit/test_config.py"]
    },
    {
      "file": "services/analytics/analytics_v2.py",
      "status": "merge",
      "reason": "Merge useful features into main analytics.py and delete",
      "impact": "medium",
      "dependents": ["services/analytics/"],
      "tests_to_update": ["tests/unit/test_analytics.py"]
    },
    {
      "file": "services/analytics/integration_layer.py",
      "status": "merge",
      "reason": "Merge useful features into main analytics.py and delete",
      "impact": "medium",
      "dependents": ["services/analytics/"],
      "tests_to_update": ["tests/unit/test_analytics.py"]
    },
    {
      "file": "backend/main.py",
      "status": "rewrite",
      "reason": "Create clean entry point for backend services following clean architecture",
      "impact": "high",
      "dependents": ["backend/api/routers/"],
      "tests_to_update": ["backend/tests/test_main.py"]
    },
    {
      "file": "shared/core/agents/agent_pattern.py",
      "status": "rewrite",
      "reason": "Refactor to use base_agent.py patterns and remove duplication",
      "impact": "medium",
      "dependents": ["shared/core/agents/"],
      "tests_to_update": ["tests/unit/test_agent_pattern.py"]
    },
    {
      "file": "shared/core/agents/knowledge_graph_agent.py",
      "status": "rewrite",
      "reason": "Refactor to use base_agent.py patterns and remove duplication",
      "impact": "medium",
      "dependents": ["shared/core/agents/"],
      "tests_to_update": ["tests/unit/test_knowledge_graph_agent.py"]
    },
    {
      "file": "shared/core/agents/arangodb_knowledge_graph_agent.py",
      "status": "rewrite",
      "reason": "Refactor to use base_agent.py patterns and remove duplication",
      "impact": "medium",
      "dependents": ["shared/core/agents/"],
      "tests_to_update": ["tests/unit/test_arangodb_knowledge_graph_agent.py"]
    },
    {
      "file": "services/api_gateway/",
      "status": "archive",
      "reason": "Entire directory replaced by services/gateway/ with better implementation",
      "impact": "high",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "services/api_gateway/main.py",
      "status": "archive",
      "reason": "Buggy implementation replaced by services/gateway/main.py",
      "impact": "high",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "services/api_gateway/lead_orchestrator.py",
      "status": "archive",
      "reason": "Features extracted to services/gateway/agent_orchestrator.py",
      "impact": "medium",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "services/api_gateway/orchestrator_workflow_fixes.py",
      "status": "archive",
      "reason": "Features extracted to services/gateway/agent_orchestrator.py",
      "impact": "medium",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "services/api_gateway/lead_orchestrator_fixes.py",
      "status": "archive",
      "reason": "Features extracted to services/gateway/agent_orchestrator.py",
      "impact": "medium",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "services/api_gateway/middleware/",
      "status": "archive",
      "reason": "Features extracted to services/gateway/middleware/",
      "impact": "medium",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "shared/core/agents/llm_client.py",
      "status": "archive",
      "reason": "Features extracted to services/gateway/real_llm_integration.py",
      "impact": "medium",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "shared/core/agents/validation_utilities.py",
      "status": "archive",
      "reason": "Features extracted to shared/core/input_validation.py",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "shared/core/agents/retrieval_utilities.py",
      "status": "archive",
      "reason": "Features extracted to shared/core/retry_logic.py",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "shared/core/agents/orchestration_utilities.py",
      "status": "archive",
      "reason": "Features extracted to shared/core/workflow_manager.py",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "shared/core/agents/execution_utilities.py",
      "status": "archive",
      "reason": "Features extracted to shared/core/retry_logic.py",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "shared/core/agents/common_patterns.py",
      "status": "archive",
      "reason": "Features extracted to shared/core/agent_pattern.py",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "shared/core/agents/agent_utilities.py",
      "status": "archive",
      "reason": "Features extracted to shared/core/agent_pattern.py",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "shared/core/agents/graph_db_client.py",
      "status": "archive",
      "reason": "Features extracted to shared/core/vector_database.py",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "shared/core/agents/reviewer_agent.py",
      "status": "archive",
      "reason": "Features extracted to shared/core/agents/factcheck_agent.py",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "shared/core/agents/lead_orchestrator.py",
      "status": "archive",
      "reason": "Features extracted to services/gateway/agent_orchestrator.py",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "shared/core/agents/data_models.py",
      "status": "archive",
      "reason": "Features extracted to shared/models/",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "shared/core/agents/llm_client.py",
      "status": "archive",
      "reason": "Features extracted to services/gateway/real_llm_integration.py",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "shared/core/agents/validation_utilities.py",
      "status": "archive",
      "reason": "Features extracted to shared/core/input_validation.py",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "shared/core/agents/retrieval_utilities.py",
      "status": "archive",
      "reason": "Features extracted to shared/core/retry_logic.py",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "shared/core/agents/orchestration_utilities.py",
      "status": "archive",
      "reason": "Features extracted to shared/core/workflow_manager.py",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "shared/core/agents/execution_utilities.py",
      "status": "archive",
      "reason": "Features extracted to shared/core/retry_logic.py",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "shared/core/agents/common_patterns.py",
      "status": "archive",
      "reason": "Features extracted to shared/core/agent_pattern.py",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "shared/core/agents/agent_utilities.py",
      "status": "archive",
      "reason": "Features extracted to shared/core/agent_pattern.py",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "shared/core/agents/graph_db_client.py",
      "status": "archive",
      "reason": "Features extracted to shared/core/vector_database.py",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "shared/core/agents/reviewer_agent.py",
      "status": "archive",
      "reason": "Features extracted to shared/core/agents/factcheck_agent.py",
      "impact": "low",
      "dependents": ["none"],
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "shared/core/agents/lead_orchestrator.py",
      "status": "archive",
      "reason": "Features extracted to services/gateway/agent_orchestrator.py",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "shared/core/agents/data_models.py",
      "status": "archive",
      "reason": "Features extracted to shared/models/",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "check_ollama_models.py",
      "status": "delete",
      "reason": "Utility script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "test_arangodb_auth.py",
      "status": "delete",
      "reason": "Test script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "test_service_endpoints.py",
      "status": "delete",
      "reason": "Test script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "simple_diagnostic.py",
      "status": "delete",
      "reason": "Utility script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "fix_all_guardrails_issues.py",
      "status": "delete",
      "reason": "Utility script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "test_guardrails_fixed.py",
      "status": "delete",
      "reason": "Test script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "test_guardrails_basic.py",
      "status": "delete",
      "reason": "Test script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "debug_python.py",
      "status": "delete",
      "reason": "Utility script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "test_python.ps1",
      "status": "delete",
      "reason": "Utility script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "test_python.bat",
      "status": "delete",
      "reason": "Utility script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "test_guardrails_simple.py",
      "status": "delete",
      "reason": "Test script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "demo_always_on_performance.py",
      "status": "delete",
      "reason": "Demo script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "test_always_on_performance.py",
      "status": "delete",
      "reason": "Test script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "start_postgresql.py",
      "status": "delete",
      "reason": "Utility script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "test_postgresql_simple.py",
      "status": "delete",
      "reason": "Test script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "fix_postgresql_database.py",
      "status": "delete",
      "reason": "Utility script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "fix_arangodb_database.py",
      "status": "delete",
      "reason": "Utility script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "add_sample_data_to_qdrant.py",
      "status": "delete",
      "reason": "Utility script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "fix_vector_stores_comprehensive.py",
      "status": "delete",
      "reason": "Utility script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "fix_qdrant_collection.py",
      "status": "delete",
      "reason": "Utility script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "test_vector_stores_availability.py",
      "status": "delete",
      "reason": "Test script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "add_persistent_data.py",
      "status": "delete",
      "reason": "Utility script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "debug_retrieval_results.py",
      "status": "delete",
      "reason": "Utility script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "test_vector_kg_data.py",
      "status": "delete",
      "reason": "Test script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "test_retrieval_performance_with_warmup.py",
      "status": "delete",
      "reason": "Test script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "simple_warmup_test.py",
      "status": "delete",
      "reason": "Test script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "test_retrieval_warmup.py",
      "status": "delete",
      "reason": "Test script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "test_retrieval_performance_final.py",
      "status": "delete",
      "reason": "Test script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "test_trust_visibility.py",
      "status": "delete",
      "reason": "Test script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "test_security_simple.py",
      "status": "delete",
      "reason": "Test script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "test_observability_final.py",
      "status": "delete",
      "reason": "Test script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    },
    {
      "file": "test_observability_simple.py",
      "status": "delete",
      "reason": "Test script not part of core application",
      "impact": "low",
      "dependents": ["none"],
      "tests_to_update": []
    }
  ],
  "duplication_analysis": [
    {
      "category": "LLM Client Implementations",
      "files": [
        "shared/core/llm_client.py",
        "shared/core/llm_client_v2.py", 
        "shared/core/llm_client_v3.py",
        "shared/core/llm_client_enhanced.py",
        "shared/core/llm_client_dynamic.py",
        "shared/core/llm_client_standalone.py"
      ],
      "recommendation": "Merge all useful features into services/gateway/real_llm_integration.py and delete duplicates",
      "impact": "high",
      "effort": "medium"
    },
    {
      "category": "API Gateway Services",
      "files": [
        "services/api_gateway/main.py",
        "services/gateway/main.py",
        "backend/main.py"
      ],
      "recommendation": "Keep services/gateway/main.py as primary, archive others",
      "impact": "high",
      "effort": "high"
    },
    {
      "category": "Agent Implementations",
      "files": [
        "shared/core/agents/agent_pattern.py",
        "shared/core/agents/knowledge_graph_agent.py",
        "shared/core/agents/arangodb_knowledge_graph_agent.py"
      ],
      "recommendation": "Refactor to use base_agent.py patterns and remove duplication",
      "impact": "medium",
      "effort": "medium"
    },
    {
      "category": "Configuration Systems",
      "files": [
        "shared/core/config/central_config.py",
        "shared/core/config/environment_manager.py",
        "shared/core/config/enhanced_environment_manager.py"
      ],
      "recommendation": "Keep central_config.py, merge useful features and delete others",
      "impact": "medium",
      "effort": "low"
    },
    {
      "category": "Analytics Services",
      "files": [
        "services/analytics/analytics.py",
        "services/analytics/analytics_v2.py",
        "services/analytics/integration_layer.py"
      ],
      "recommendation": "Keep main analytics.py, merge useful features and delete others",
      "impact": "medium",
      "effort": "low"
    }
  ],
  "unused_module_analysis": [
    {
      "module": "services/api_gateway/",
      "reason": "Entire directory replaced by services/gateway/",
      "dependents": [],
      "action": "archive"
    },
    {
      "module": "shared/core/llm_client*.py",
      "reason": "All LLM client implementations replaced by real_llm_integration.py",
      "dependents": [],
      "action": "merge_and_delete"
    },
    {
      "module": "shared/core/config/environment_manager*.py",
      "reason": "Replaced by central_config.py",
      "dependents": [],
      "action": "merge_and_delete"
    },
    {
      "module": "services/analytics/analytics_v*.py",
      "reason": "Replaced by main analytics.py",
      "dependents": [],
      "action": "merge_and_delete"
    },
    {
      "module": "shared/core/agents/*_utilities.py",
      "reason": "Features extracted to core modules",
      "dependents": [],
      "action": "archive"
    }
  ],
  "architectural_recommendations": [
    {
      "priority": "high",
      "recommendation": "Consolidate all LLM functionality into services/gateway/real_llm_integration.py",
      "rationale": "Eliminate 6 duplicate LLM client implementations",
      "effort": "medium",
      "impact": "high"
    },
    {
      "priority": "high", 
      "recommendation": "Archive services/api_gateway/ directory completely",
      "rationale": "Replaced by superior services/gateway/ implementation",
      "effort": "low",
      "impact": "high"
    },
    {
      "priority": "medium",
      "recommendation": "Refactor agent implementations to use base_agent.py patterns",
      "rationale": "Eliminate duplication and improve maintainability",
      "effort": "medium",
      "impact": "medium"
    },
    {
      "priority": "medium",
      "recommendation": "Consolidate configuration systems into central_config.py",
      "rationale": "Eliminate duplicate configuration management",
      "effort": "low",
      "impact": "medium"
    },
    {
      "priority": "low",
      "recommendation": "Clean up utility scripts in root directory",
      "rationale": "Improve project structure and reduce confusion",
      "effort": "low",
      "impact": "low"
    }
  ]
}